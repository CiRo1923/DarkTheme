<%
  const TITLENAME = 'Dark Theme';
  const TITLE = htmlWebpackPlugin.options.title !== 'Webpack App' ? htmlWebpackPlugin.options.title : TITLENAME;
  const COPYRIGHT = 'Copyright © Company.com. All rights resvrved.';
  const fileName = /(.*)(?=\.html$)/.exec(htmlWebpackPlugin.options.filename)[1];
  const isMobile = /^mobile/.test(fileName);
  const navs = [{
    name: 'Home',
    icon: 'home',
    href: 'index.html',
    value: 'home',
    group: 'nav'
  }, {
    name: 'Sports',
    href: 'sports.html',
    value: 'sports',
    group: 'nav'
  }, {
    name: 'Virtual Sports',
    href: 'virtualSports.html',
    value: 'virtualSports',
    group: 'nav'
  }, {
    name: 'Live Casion',
    href: 'liveCasion.html',
    value: 'liveCasion',
    group: 'nav'
  }, {
    name: 'Games',
    href: 'games.html',
    value: 'games',
    group: 'nav'
  }, {
    name: 'Promotions',
    href: 'promotions.html',
    value: 'promotions',
    group: 'nav'
  }, {
    name: 'Login',
    href: 'singIn.html',
    value: 'login',
    group: 'navTools'
  }, {
    name: 'Sign Up',
    href: 'register.html',
    value: 'register',
    group: 'navTools'
  }, {
    name: 'Account',
    value: 'account',
    subNavs: [{
      name: 'Profile',
      href: 'profile.html',
      value: 'profile',
    }, {
      name: 'My Bets',
      href: 'bets.html',
      value: 'bets',
    }, {
      name: 'Transaction History',
      href: 'history.html',
      value: 'history',
    }, {
      name: 'Statement',
      href: 'statement.html',
      value: 'statement',
    }, {
      name: 'My Promotion',
      href: 'promotion.html',
      value: 'promotion',
    }, {
      name: 'Referral',
      href: 'referral.html',
      value: 'referral',
    }],
    group: 'navTools'
  }, {
    name: 'Deposit',
    href: 'deposit.html',
    value: 'deposit',
    group: 'navTools'
  }];
  const urlFuns = {
    name: (channel, subChannel, lastChannel) => {
      let NAME = null;

      navs.forEach(nav => {
        if (nav.value === channel) {
          if (!subChannel) {
            NAME = nav.name;
          } else {
            nav.subNavs.forEach(subNav => {
              if (subNav.value === subChannel) {
                if (!lastChannel) {
                  NAME = subNav.name;
                } else {
                  subNav.lastNavs.forEach(lastNav => {
                    if (lastNav.value === lastChannel) {
                      NAME = lastNav.name;
                    }
                  });
                }
              }
            });
          }
        }
      });

      return NAME;
    },
    page: (channel, subChannel, lastChannel) => {
      let URL = null;

      navs.forEach(nav => {
        if (nav.value === channel) {
          if (!subChannel) {
            URL = nav.href;
          } else {
            nav.subNavs.forEach(subNav => {
              if (subNav.value === subChannel) {
                if (!lastChannel) {
                  URL = subNav.href;
                } else {
                  subNav.lastNavs.forEach(lastNav => {
                    if (lastNav.value === lastChannel) {
                      URL = lastNav.href;
                    }
                  });
                }
              }
            });
          }
        }
      });

      return URL;
    }
  };
  const reqFile = require('../'+ fileName +'.ejs')({
    htmlWebpackPlugin : htmlWebpackPlugin,
    urlFuns: urlFuns
  });
-%>

<!DOCTYPE html>
<html lang="zh-Hant-TW">
  <head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="timestamp">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="SKYPE_TOOLBAR" content="SKYPE_TOOLBAR_PARSER_COMPATIBLE">
    <meta property="og:title" content="<%- TITLE %>">
    <meta property="og:description" name="description" content="<%- htmlWebpackPlugin.options.description ? htmlWebpackPlugin.options.description : '' %>">
    <meta property="og:type" content="website">
    <meta property="og:url" content="<%- process.env.APP_ENV === 'bulid' ? '/' : 'https://f2e.sugarfun.com.tw/Transglobe/Consultant/' %>">
    <meta property="og:image" content="<%- `${process.env.APP_ENV === 'bulid' ? '/' : 'https://f2e.sugarfun.com.tw/Transglobe/Consultant/'}static/img/fb.png` %>">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="<%- TITLE %>">
    <title><%- TITLE %></title>
    <link rel="shortcut icon" type="image/x-icon" href="<%- `${process.env.APP_ENV === 'bulid' ? '/' : ''}static/img/favicon.ico` %>">
    <link rel="canonical" href="">
  </head>
  <body class="bg-x001e text-xf">
    <div class="l-wrap text-14 jWrap">
      <header class="l-hd">
        <h1 class="sr-only"><%- TITLE %></h1>
        <% if( !isMobile ) { -%>
          <div class="m-hd flex items-center max-cnt">
            <div class="m-hd-logo mr-32 flex-shrink-0"></div>
            <nav class="m-nav flex-grow overflow-hidden relative jNav">
              <ul class="m-nav-menu space-x-12 flex items-center">
                <% for(let i = 0; i < navs.length; i += 1) { -%>
                  <% const { name, icon, href, value, group } = navs[i]; -%>
                  <% if ( group === 'nav' ) { -%>
                    <li class="m-nav-item<%- htmlWebpackPlugin.options.action === value ? ' active' : '' %> text-x88a1 hover:text-xfb2e jNavItem">
                      <a href="<%- href ? href : subNavs[0].href %>" class="py-20 box-content flex flex-col justify-center relative">
                        <% if ( icon ) { -%>
                          <%- require('component/svg.ejs')({
                            style: {
                              main: 'm-nav-svg'
                            },
                            svgName: icon
                          }) %>
                        <% } else { -%>
                          <strong><%- name %></strong>
                        <% } -%>
                      </a>
                    </li>
                  <% } -%>
                <% } -%>
              </ul>
            </nav>
            <div class="m-hd-tools flex-shrink-0">
              <!-- 尚未登入 -->
              <!-- <ul class="flex items-center space-x-16">
                <li>
                  <%- require('component/mDropdown.ejs')({
                    ctrlImg: {
                      path: require('common/lang-english.svg'),
                      alt: 'English'
                    },
                    options: [[{
                      name: 'English'
                    }, {
                      name: '简体中文'
                    }, {
                      name: 'Indonesia'
                    }, {
                      name: '한국어'
                    }, {
                      name: 'Bahasa Melayu'
                    }, {
                      name: '日本語'
                    }]]
                  }) %>
                </li>
                <li>
                  <a href="<%- urlFuns.page('login') %>">
                    <b><%- urlFuns.name('login') %></b>
                  </a>
                </li>
                <li>
                  <a href="<%- urlFuns.page('register') %>" class="m-btn bg-x3c6e">
                    <b class="px-2 inline-block"><%- urlFuns.name('register') %></b>
                  </a>
                </li>
              </ul> -->
              <!-- 已登入 -->
              <ul class="flex items-center space-x-16">
                <li>
                  <%- require('component/mDropdown.ejs')({
                    ctrlImg: {
                      path: require('common/lang-english.svg'),
                      alt: 'English'
                    },
                    options: [[{
                      name: 'English'
                    }, {
                      name: '简体中文'
                    }, {
                      name: 'Indonesia'
                    }, {
                      name: '한국어'
                    }, {
                      name: 'Bahasa Melayu'
                    }, {
                      name: '日本語'
                    }]]
                  }) %>
                </li>
                <li>
                  <%- require('component/mDropdown.ejs')({
                    ctrlText: 'evonne3301',
                    options: [[{
                      name: urlFuns.name('account', 'profile'),
                      href: urlFuns.page('account', 'profile')
                    }, {
                      name: urlFuns.name('account', 'bets'),
                      href: urlFuns.page('account', 'bets')
                    }, {
                      name: urlFuns.name('account', 'history'),
                      href: urlFuns.page('account', 'history')
                    }, {
                      name: urlFuns.name('account', 'statement'),
                      href: urlFuns.page('account', 'statement')
                    }, {
                      name: urlFuns.name('account', 'promotion'),
                      href: urlFuns.page('account', 'promotion')
                    }, {
                      name: urlFuns.name('account', 'referral'),
                      href: urlFuns.page('account', 'referral')
                    }], [{
                      name: 'Sign Out'
                    }]]
                  }) %>
                </li>
                <li class="flex items-center">
                  <p class="mr-4"><b>TMP 1,099.78</b></p>
                  <button type="button" class="text-x88a1">
                    <%- require('component/svg.ejs')({
                      style: {
                        main: 'm-hd-svg'
                      },
                      svgName: 'refresh'
                    }) %>
                  </button>
                </li>
                <li>
                  <a href="<%- urlFuns.page('deposit') %>" class="m-btn bg-x3c6e hover:bg-x1956">
                    <b class="px-2 inline-block"><%- urlFuns.name('deposit') %></b>
                  </a>
                </li>
              </ul>
            </div>  
          </div>
          <div class="m-notice"></div>
        <% } -%>
      </header>
      <main class="l-main">
        <div class="l-cnt">
          <%- reqFile %>
        </div>
      </main>
      <% if( !isMobile ) { -%>
        <footer class="l-ft pt:pb-16 m:pb-14 text-center">
          <small class="text-12 opacity-50 block"><%- COPYRIGHT %></small>
        </footer>
      <% } -%>
    </div>
    <% if( !isMobile ) { -%>
      <%- require('container/mNSup.ejs')({
        cRight: COPYRIGHT,
        ieVersion: process.env.IE_VERSION
      }) %>
    <% } -%>
  </body>
</html>